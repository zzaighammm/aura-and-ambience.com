<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Shopping Cart - Aura and Ambience</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <style>
        .cart-page {
            padding: 120px 0 60px;
        }
        
        .cart-empty {
            text-align: center;
            padding: 50px 0;
        }
        
        .cart-empty i {
            font-size: 4rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        
        .cart-empty p {
            margin-bottom: 30px;
            color: var(--dark-gray);
        }
        
        .cart-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }
        
        .cart-table th {
            text-align: left;
            padding: 15px;
            background-color: var(--light-gray);
            border-bottom: 2px solid var(--primary-color);
        }
        
        .cart-table td {
            padding: 15px;
            border-bottom: 1px solid #ddd;
            vertical-align: middle;
        }
        
        .cart-product {
            display: flex;
            align-items: center;
        }
        
        .cart-product img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 5px;
            margin-right: 15px;
        }
        
        .quantity-control {
            display: flex;
            align-items: center;
        }
        
        .quantity-btn {
            width: 30px;
            height: 30px;
            background-color: var(--light-gray);
            border: none;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .quantity-btn:hover {
            background-color: var(--primary-color);
            color: var(--white);
        }
        
        .quantity-input {
            width: 40px;
            height: 30px;
            text-align: center;
            margin: 0 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        .remove-btn {
            background-color: transparent;
            border: none;
            color: #ff6b6b;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .remove-btn:hover {
            color: #ff0000;
        }
        
        .cart-summary {
            background-color: var(--light-gray);
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .summary-row.total {
            font-weight: 700;
            font-size: 1.2rem;
            border-top: 1px solid #ddd;
            padding-top: 15px;
            margin-top: 15px;
        }
        
        .checkout-form {
            margin-top: 50px;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            flex: 1;
        }
        
        .checkout-btn {
            background-color: var(--primary-dark);
            color: var(--white);
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 20px;
            width: 100%;
        }
        
        .checkout-btn:hover {
            background-color: var(--primary-color);
        }
        
        .payment-method {
            margin: 20px 0;
            padding: 15px;
            background-color: var(--white);
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        
        .payment-method label {
            display: flex;
            align-items: center;
            font-weight: 500;
        }
        
        .payment-method input {
            margin-right: 10px;
        }
        
        @media (max-width: 768px) {
            .cart-page {
                padding: 100px 0 40px;
            }
            
            .cart-table thead {
                display: none;
            }
            
            .cart-table, .cart-table tbody, .cart-table tr, .cart-table td {
                display: block;
                width: 100%;
            }
            
            .cart-table tr {
                margin-bottom: 20px;
                border: 1px solid #ddd;
                border-radius: 5px;
                padding: 15px;
                background-color: var(--white);
            }
            
            .cart-table td {
                text-align: right;
                padding: 10px 0;
                border-bottom: 1px solid #eee;
                position: relative;
            }
            
            .cart-table td:last-child {
                border-bottom: none;
            }
            
            .cart-table td::before {
                content: attr(data-label);
                float: left;
                font-weight: 700;
                color: var(--primary-dark);
            }
            
            .cart-product {
                justify-content: flex-end;
            }
            
            .cart-product img {
                width: 60px;
                height: 60px;
            }
            
            .form-row {
                flex-direction: column;
                gap: 15px;
            }
            
            .checkout-btn {
                padding: 12px 20px;
            }
            
            .cart-summary {
                padding: 20px;
            }
        }
        
        @media (max-width: 576px) {
            .cart-page {
                padding: 90px 0 30px;
            }
            
            .section-title {
                font-size: 1.8rem;
                margin-bottom: 30px;
            }
            
            .cart-table tr {
                padding: 10px;
            }
            
            .cart-product img {
                width: 50px;
                height: 50px;
            }
            
            .quantity-btn {
                width: 25px;
                height: 25px;
            }
            
            .quantity-input {
                width: 35px;
                height: 25px;
                font-size: 0.9rem;
            }
            
            .checkout-form {
                margin-top: 30px;
            }
            
            .form-group label {
                font-size: 0.9rem;
            }
            
            .checkout-btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="logo">
            <a href="index.html"><img src="images/logo.png" alt="Aura and Ambience Logo"></a>
            <span class="logo-text">Aura And Ambience</span>
        </div>
        <ul class="nav-links">
            <li><a href="index.html#home">Home</a></li>
            <li><a href="index.html#products">Products</a></li>
            <li><a href="index.html#about">About Us</a></li>
            <li><a href="index.html#testimonials">Testimonials</a></li>
            <li><a href="index.html#contact">Contact</a></li>
        </ul>
        <div class="cart-icon">
            <a href="cart.html" class="active"><i class="fas fa-shopping-cart"></i> <span id="cart-count">0</span></a>
        </div>
        <div class="hamburger">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
        </div>
    </nav>

    <section class="cart-page">
        <div class="container">
            <h1 class="section-title">Your Shopping Cart</h1>
            
            <div id="cart-content">
                <!-- Cart items will be loaded here via JavaScript -->
                <div class="cart-empty">
                    <i class="fas fa-shopping-cart"></i>
                    <h2>Your cart is empty</h2>
                    <p>Looks like you haven't added any items to your cart yet.</p>
                    <a href="index.html#products" class="cta-button">Continue Shopping</a>
                </div>
            </div>
            
            <div id="checkout-section" style="display: none;">
                <div class="cart-summary">
                    <h3>Order Summary</h3>
                    <div class="summary-row">
                        <span>Subtotal:</span>
                        <span id="subtotal">Rs. 0</span>
                    </div>
                    <div class="summary-row">
                        <span>Shipping:</span>
                        <span id="shipping">Rs. 150</span>
                    </div>
                    <div class="summary-row total">
                        <span>Total:</span>
                        <span id="total">Rs. 0</span>
                    </div>
                </div>
                
                <div class="checkout-form">
                    <h3>Shipping Information</h3>
                    <form id="shipping-form" action="https://formspree.io/f/xqapzglk" method="POST">
                        <input type="hidden" name="_subject" value="New Order from Aura and Ambience">
                        <input type="hidden" name="_next" value="https://auraandambience.com/thank-you.html">
                        <input type="hidden" name="_cc" value="zzaighammm@gmail.com">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="name">Full Name</label>
                                <input type="text" id="name" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone</label>
                                <input type="tel" id="phone" name="phone" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="address">Complete Address</label>
                            <textarea id="address" name="address" rows="3" required></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="city">City</label>
                                <input type="text" id="city" name="city" required>
                            </div>
                            <div class="form-group">
                                <label for="state">Province</label>
                                <input type="text" id="state" name="state" required>
                            </div>
                            <div class="form-group">
                                <label for="zip">Postal Code</label>
                                <input type="text" id="zip" name="zip" required>
                            </div>
                        </div>
                        
                        <input type="hidden" id="order-details" name="order-details" value="">
                        
                        <h3>Payment Method</h3>
                        <div class="payment-method">
                            <label>
                                <input type="radio" name="payment" value="cod" checked>
                                Cash on Delivery (COD)
                            </label>
                            <p style="margin-top: 10px; color: var(--dark-gray);">Pay when your order is delivered to your doorstep.</p>
                        </div>
                        
                        <button type="submit" class="checkout-btn">Place Order</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="images/logo.png" alt="Aura and Ambience Logo">
                    <p>Where fragrance meets relaxation</p>
                </div>
                <div class="footer-links">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html#home">Home</a></li>
                        <li><a href="index.html#products">Products</a></li>
                        <li><a href="index.html#about">About Us</a></li>
                        <li><a href="index.html#contact">Contact</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 Aura and Ambience. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Custom alert function with brand styling
        function customAlert(message) {
            // Create elements
            const alertOverlay = document.createElement('div');
            alertOverlay.style.position = 'fixed';
            alertOverlay.style.top = '0';
            alertOverlay.style.left = '0';
            alertOverlay.style.width = '100%';
            alertOverlay.style.height = '100%';
            alertOverlay.style.backgroundColor = 'rgba(0,0,0,0.5)';
            alertOverlay.style.display = 'flex';
            alertOverlay.style.justifyContent = 'center';
            alertOverlay.style.alignItems = 'center';
            alertOverlay.style.zIndex = '9999';
            
            const alertBox = document.createElement('div');
            alertBox.style.backgroundColor = '#d14778';
            alertBox.style.color = 'white';
            alertBox.style.padding = window.innerWidth < 576 ? '20px' : '30px';
            alertBox.style.borderRadius = '10px';
            alertBox.style.maxWidth = '500px';
            alertBox.style.width = '90%';
            alertBox.style.margin = '0 20px';
            alertBox.style.boxShadow = '0 5px 15px rgba(0,0,0,0.2)';
            
            const messageText = document.createElement('p');
            messageText.style.marginBottom = '20px';
            messageText.style.lineHeight = '1.5';
            messageText.style.fontSize = window.innerWidth < 576 ? '14px' : '16px';
            messageText.style.whiteSpace = 'pre-line';
            messageText.textContent = message;
            
            const closeButton = document.createElement('button');
            closeButton.textContent = 'OK';
            closeButton.style.backgroundColor = 'white';
            closeButton.style.color = '#d14778';
            closeButton.style.border = 'none';
            closeButton.style.padding = window.innerWidth < 576 ? '8px 15px' : '10px 20px';
            closeButton.style.borderRadius = '5px';
            closeButton.style.cursor = 'pointer';
            closeButton.style.fontWeight = 'bold';
            closeButton.style.float = 'right';
            closeButton.style.fontSize = window.innerWidth < 576 ? '14px' : '16px';
            
            closeButton.onclick = function() {
                document.body.removeChild(alertOverlay);
            };
            
            // Also close when clicking on overlay
            alertOverlay.onclick = function(e) {
                if (e.target === alertOverlay) {
                    document.body.removeChild(alertOverlay);
                }
            };
            
            // Assemble and show alert
            alertBox.appendChild(messageText);
            alertBox.appendChild(closeButton);
            alertOverlay.appendChild(alertBox);
            document.body.appendChild(alertOverlay);
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            // Get cart items from localStorage
            const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            const cartContent = document.getElementById('cart-content');
            const checkoutSection = document.getElementById('checkout-section');
            const subtotalElement = document.getElementById('subtotal');
            const totalElement = document.getElementById('total');
            
            // Function to update cart display
            function updateCartDisplay() {
                if (cartItems.length === 0) {
                    // Show empty cart message
                    cartContent.innerHTML = `
                        <div class="cart-empty">
                            <i class="fas fa-shopping-cart"></i>
                            <h2>Your cart is empty</h2>
                            <p>Looks like you haven't added any items to your cart yet.</p>
                            <a href="index.html#products" class="cta-button">Continue Shopping</a>
                        </div>
                    `;
                    checkoutSection.style.display = 'none';
                    return;
                }
                
                // Create cart table
                let cartHTML = `
                    <table class="cart-table">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Price</th>
                                <th>Quantity</th>
                                <th>Total</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                `;
                
                let subtotal = 0;
                
                // Add cart items to table
                cartItems.forEach((item, index) => {
                    // Extract price value (remove "Rs. " and convert to number)
                    const priceValue = parseFloat(item.price.replace('Rs. ', ''));
                    const itemTotal = priceValue * item.quantity;
                    subtotal += itemTotal;
                    
                    cartHTML += `
                        <tr>
                            <td data-label="Product">
                                <div class="cart-product">
                                    <img src="${item.image}" alt="${item.name}">
                                    <div>
                                        <h4>${item.name}</h4>
                                    </div>
                                </div>
                            </td>
                            <td data-label="Price">${item.price}</td>
                            <td data-label="Quantity">
                                <div class="quantity-control">
                                    <button class="quantity-btn decrease" data-index="${index}">-</button>
                                    <input type="number" class="quantity-input" value="${item.quantity}" min="1" data-index="${index}">
                                    <button class="quantity-btn increase" data-index="${index}">+</button>
                                </div>
                            </td>
                            <td data-label="Total">Rs. ${itemTotal.toFixed(2)}</td>
                            <td data-label="Action">
                                <button class="remove-btn" data-index="${index}">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </td>
                        </tr>
                    `;
                });
                
                cartHTML += `
                        </tbody>
                    </table>
                    <div class="cart-actions">
                        <a href="index.html#products" class="cta-button secondary">Continue Shopping</a>
                    </div>
                `;
                
                cartContent.innerHTML = cartHTML;
                checkoutSection.style.display = 'block';
                
                // Calculate and update summary
                const shipping = subtotal >= 3000 ? 0 : 150; // Free shipping for orders over Rs. 3,000
                const total = subtotal + shipping;
                
                subtotalElement.textContent = `Rs. ${subtotal.toFixed(2)}`;
                document.getElementById('shipping').textContent = shipping === 0 ? 'Free' : `Rs. ${shipping.toFixed(2)}`;
                totalElement.textContent = `Rs. ${total.toFixed(2)}`;
                
                // Prepare order details for form submission
                const orderDetailsInput = document.getElementById('order-details');
                if (orderDetailsInput) {
                    const orderDetails = {
                        items: cartItems.map(item => ({
                            name: item.name,
                            price: item.price,
                            quantity: item.quantity,
                            total: `Rs. ${(parseFloat(item.price.replace('Rs. ', '')) * item.quantity).toFixed(2)}`
                        })),
                        subtotal: subtotalElement.textContent,
                        shipping: document.getElementById('shipping').textContent,
                        total: totalElement.textContent
                    };
                    orderDetailsInput.value = JSON.stringify(orderDetails);
                }
                
                // Add event listeners for quantity buttons
                document.querySelectorAll('.quantity-btn.decrease').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        if (cartItems[index].quantity > 1) {
                            cartItems[index].quantity--;
                            localStorage.setItem('cartItems', JSON.stringify(cartItems));
                            updateCartDisplay();
                        }
                    });
                });
                
                document.querySelectorAll('.quantity-btn.increase').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        cartItems[index].quantity++;
                        localStorage.setItem('cartItems', JSON.stringify(cartItems));
                        updateCartDisplay();
                    });
                });
                
                document.querySelectorAll('.quantity-input').forEach(input => {
                    input.addEventListener('change', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        const newQuantity = parseInt(this.value);
                        if (newQuantity >= 1) {
                            cartItems[index].quantity = newQuantity;
                            localStorage.setItem('cartItems', JSON.stringify(cartItems));
                            updateCartDisplay();
                        }
                    });
                });
                
                // Add event listeners for remove buttons
                document.querySelectorAll('.remove-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        cartItems.splice(index, 1);
                        localStorage.setItem('cartItems', JSON.stringify(cartItems));
                        updateCartDisplay();
                        updateCartCount();
                    });
                });
            }
            
            // Update cart count in header
            function updateCartCount() {
                const cartCount = document.getElementById('cart-count');
                cartCount.textContent = cartItems.length;
            }
            
            // Initialize cart display
            updateCartDisplay();
            updateCartCount();
            
            // Handle checkout form submission
            const shippingForm = document.getElementById('shipping-form');
            if (shippingForm) {
                shippingForm.addEventListener('submit', function(e) {
                    // Form will be submitted to Formspree
                    
                    // Show confirmation message
                    const name = document.getElementById('name').value;
                    customAlert(`Thank you for your order, ${name}!\n\nYour order has been placed successfully and will be delivered to your address. You will pay ${totalElement.textContent} when your order is delivered.\n\nWe will contact you at ${document.getElementById('phone').value} if needed.\n\nOrder confirmation has been sent to zzaighammm@gmail.com`);
                    
                    // Clear cart after successful submission
                    setTimeout(function() {
                        localStorage.removeItem('cartItems');
                        window.location.href = 'index.html';
                    }, 3000);
                });
            }
        });
    </script>
</body>
</html> 